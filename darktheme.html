
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NewsFlow â€” Dark Mode Accessible Demo</title>
  <meta name="color-scheme" content="light dark" />
  <style>
    /* --------------------------------------------------
       Accessible Light/Dark Theme using CSS variables
       Colors meet or exceed WCAG AA (4.5:1 for body text)
       -------------------------------------------------- */
    :root {
      --bg: #ffffff;
      --surface: #f6f7f9;         /* cards/canvas */
      --text: #0a0a0a;            /* â‰ˆ 21:1 on white */
      --muted: #4c5562;           /* secondary text */
      --divider: #e5e7eb;         /* borders */
      --accent: #1a73e8;          /* links/buttons (blue) */
      --accent-contrast: #ffffff; /* text on accent */
      --shadow: 0 8px 24px rgba(0,0,0,.08);
      --radius-xl: 16px;
      --radius-lg: 12px;
    }

    html[data-theme="dark"] {
      --bg: #0d0f12;               /* near-black, not pure */
      --surface: #15181c;          /* elevated cards */
      --text: #f2f2f2;             /* â‰ˆ 15:1 on #0d0f12 */
      --muted: #c7cbd1;            /* secondary */
      --divider: #2a2f36;          /* subtle borders */
      --accent: #4ea1ff;           /* brighter blue for dark */
      --accent-contrast: #0a0a0a;  /* text/icon on accent */
      --shadow: 0 10px 30px rgba(0,0,0,.45);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
      line-height: 1.55;
    }

    .container { max-width: 960px; margin: 0 auto; padding: 24px; }

    /* Header */
    header {
      position: sticky; top: 0; z-index: 10;
      background: var(--bg);
      border-bottom: 1px solid var(--divider);
      backdrop-filter: saturate(180%) blur(8px);
    }
    .nav { display:flex; align-items:center; justify-content:space-between; gap:16px; padding: 12px 24px; }
    .brand { font-weight: 800; letter-spacing:.2px; font-size: 1.35rem; }

    /* Toggle button */
    .toggle {
      --h: 32px; --w: 64px; --pad: 3px;
      position: relative; width: var(--w); height: var(--h);
      display:inline-flex; align-items:center; border-radius: 999px;
      border: 1px solid var(--divider); background: var(--surface);
      box-shadow: var(--shadow);
    }
    .toggle input { position: absolute; inset: 0; opacity: 0; }
    .knob {
      position:absolute; left: var(--pad); top: var(--pad);
      height: calc(var(--h) - var(--pad) * 2);
      width:  calc(var(--h) - var(--pad) * 2);
      border-radius: 999px; background: var(--bg);
      border: 1px solid var(--divider);
      transition: transform .25s ease;
    }
    .toggle[aria-pressed="true"] .knob { transform: translateX(calc(var(--w) - var(--h))); }
    .toggle-label { display:flex; align-items:center; gap:8px; font-size:.95rem; }

    /* Hero */
    .hero { padding: 24px 24px 8px; }
    .eyebrow { color: var(--muted); font-weight: 600; letter-spacing:.06em; text-transform:uppercase; font-size:.75rem; }
    h1 { margin: 4px 0 8px; font-size: 2rem; line-height: 1.2; }
    .subtitle { color: var(--muted); margin: 0 0 16px; }

    /* Card list */
    .grid { display:grid; grid-template-columns: 1fr; gap: 16px; }
    @media (min-width: 720px) { .grid { grid-template-columns: 1fr 1fr; } }

    .card {
      background: var(--surface);
      border: 1px solid var(--divider);
      border-radius: var(--radius-xl);
      overflow: hidden; box-shadow: var(--shadow);
      display:flex; flex-direction: column; min-height: 100%;
    }
    .thumb { aspect-ratio: 16/9; background: linear-gradient(135deg,#cfd5dd,#a6b3c6); filter: saturate(.9); }
    html[data-theme="dark"] .thumb { background: linear-gradient(135deg,#2a313a,#1a212b); }
    .pad { padding: 16px; }
    .kicker { color: var(--muted); font-size:.8rem; text-transform: uppercase; letter-spacing:.06em; }
    .title { margin: 8px 0 10px; font-weight: 800; font-size: 1.05rem; line-height:1.35; }
    .excerpt { color: var(--muted); margin: 0 0 10px; }

    a.button {
      align-self: start; text-decoration: none; font-weight: 700;
      background: var(--accent); color: var(--accent-contrast);
      padding: 10px 14px; border-radius: var(--radius-lg);
      border: 1px solid transparent; transition: transform .08s ease, filter .15s;
    }
    a.button:focus-visible { outline: 3px solid var(--accent); outline-offset: 2px; }
    a.button:hover { filter: brightness(1.03); }
    a.button:active { transform: translateY(1px); }

    /* Footer note */
    footer { margin: 28px 0 60px; color: var(--muted); font-size:.95rem; border-top:1px solid var(--divider); padding-top:16px; }
    .sr-only { position:absolute!important; clip:rect(1px,1px,1px,1px); padding:0; border:0; height:1px; width:1px; overflow:hidden; white-space:nowrap; }
  </style>
</head>
<body>
  <header role="banner">
    <div class="nav container" aria-label="Top Navigation">
      <div class="brand">NewsFlow</div>
      <div class="toggle-label">
        <span aria-hidden="true">ðŸŒž</span>
        <button id="themeToggle" class="toggle" type="button" role="switch" aria-pressed="false" aria-label="Toggle dark mode">
          <span class="sr-only">Toggle dark mode</span>
          <span class="knob" aria-hidden="true"></span>
        </button>
        <span aria-hidden="true">ðŸŒ™</span>
      </div>
    </div>
  </header>

  <main id="content" class="container" tabindex="-1">
    <section class="hero" aria-labelledby="latest">
      <div class="eyebrow">Latest</div>
      <h1 id="latest">Latest News</h1>
      <p class="subtitle">Stay updated with the most important stories</p>
    </section>

    <section class="grid" aria-label="Top stories">
      <!-- Card 1 -->
      <article class="card" aria-labelledby="t1">
        <div class="thumb" role="img" aria-label="Audience in a tech conference hall"></div>
        <div class="pad">
          <div class="kicker">Technology â€¢ 3 min read</div>
          <h2 class="title" id="t1">Tech Conference Reveals Revolutionary AI Breakthrough</h2>
          <p class="excerpt">Industry leaders unveil AI advances promising safer automation, stronger privacy, and responsible deployment across healthcare and finance.</p>
          <a class="button" href="#">Read Article</a>
        </div>
      </article>

      <!-- Card 2 -->
      <article class="card" aria-labelledby="t2">
        <div class="thumb" role="img" aria-label="City skyline with sustainable energy"></div>
        <div class="pad">
          <div class="kicker">World â€¢ 5 min read</div>
          <h2 class="title" id="t2">Global Cities Commit to Netâ€‘Zero with New Transit Plan</h2>
          <p class="excerpt">A coalition of mayors announces electric mobility and green grid upgrades targeting dramatic emission cuts by 2030.</p>
          <a class="button" href="#">Read Article</a>
        </div>
      </article>

      <!-- Card 3 -->
      <article class="card" aria-labelledby="t3">
        <div class="thumb" role="img" aria-label="A stadium crowd celebrating a close match"></div>
        <div class="pad">
          <div class="kicker">Sports â€¢ 2 min read</div>
          <h2 class="title" id="t3">Underdogs Clinch Final in Stunning Lastâ€‘Minute Victory</h2>
          <p class="excerpt">A dramatic finish captivates fans as the tournament favorites falter in extra time.</p>
          <a class="button" href="#">Read Article</a>
        </div>
      </article>

      <!-- Card 4 -->
      <article class="card" aria-labelledby="t4">
        <div class="thumb" role="img" aria-label="Close-up of a smartphone with new OS UI"></div>
        <div class="pad">
          <div class="kicker">Gadgets â€¢ 4 min read</div>
          <h2 class="title" id="t4">New Mobile OS Focuses on Privacy and Performance</h2>
          <p class="excerpt">The latest release ships with onâ€‘device encryption, quicker app launches, and better battery management.</p>
          <a class="button" href="#">Read Article</a>
        </div>
      </article>
    </section>

    <footer>
      <strong>Why Dark Mode?</strong>
      <p>
        Dark mode reduces glare and eye strain in lowâ€‘light environments and, on OLED displays, can save battery life because dark pixels draw less power. 
        This demo uses color pairs that meet WCAG AA contrast (â‰¥4.5:1 for normal text, â‰¥3:1 for large text) to keep body copy and headlines readable across themes.
      </p>
    </footer>
  </main>

  <script>
    // Persisted theme preference with system fallback
    (function initTheme() {
      const stored = localStorage.getItem('theme');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = stored || (prefersDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
      const pressed = theme === 'dark';
      const btn = document.getElementById('themeToggle');
      btn.setAttribute('aria-pressed', String(pressed));
      if (pressed) document.documentElement.classList.add('dark');
    })();

    // Toggle interaction
    const btn = document.getElementById('themeToggle');
    btn.addEventListener('click', () => {
      const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
      const next = isDark ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      btn.setAttribute('aria-pressed', String(!isDark));
      localStorage.setItem('theme', next);
    });

    // Sync with system theme changes if user hasn't set a preference
    const media = window.matchMedia('(prefers-color-scheme: dark)');
    media.addEventListener && media.addEventListener('change', e => {
      const stored = localStorage.getItem('theme');
      if (stored) return; // respect explicit user choice
      const next = e.matches ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', next);
      btn.setAttribute('aria-pressed', String(e.matches));
    });
  </script>
</body>
</html>
